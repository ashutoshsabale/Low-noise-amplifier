; Top Design: "lownoiseamp_lib:main:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="lownoiseamp_lib:main:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
; Library Name: lownoiseamp_lib
; Cell Name: input match
; View Name: schematic
define "input#20match" ( P1  P2 ) 
;parameters 
model MSub1 MSUB H=20 mil Er=3.66 Mur=1 Cond=5.8E7 Hu=1e+33 mm T=0.035 mm TanD=0.001 Rough=0 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MTEE_ADS:Tee3  N__13 N__12 N__27 Subst="MSub1" W1=ws1 mm W2=ws1 mm W3=wsh1 mm 
MTEE_ADS:Tee2  N__23 N__20 N__18 Subst="MSub1" W1=w50 mm W2=w50 mm W3=wpad_mil mil 
MTEE_ADS:Tee1  N__21 N__19 N__28 Subst="MSub1" W1=w50 mm W2=w50 mm W3=wdc mm 
MLOC2:TL17  N__27 Subst="MSub1" W=wsh1 mm L=9.37085 mm tune{ 8.59 mm to 25.8 mm by 1.71828 mm } opt{ 1 mm to 50 mm } Wall1=2.5e+28 mm noopt{ 1.25e+28 mm to 3.75e+28 mm } Wall2=2.5e+28 mm noopt{ 1.25e+28 mm to 3.75e+28 mm } Mod=1 
R:R4  N__24 N__18 R=420 Ohm Noise=yes 
MLIN2:TL16  P1 N__10 Subst="MSub1" W=1.11 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL15  N__7 N__15 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL14  N__8 N__9 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL13  N__14 N__13 Subst="MSub1" W=ws1 mm L=13.0674 mm tune{ 5.58 mm to 16.7 mm by 1.11657 mm } opt{ 1 mm to 50 mm } Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL12  N__12 N__11 Subst="MSub1" W=ws2 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL11  N__20 N__19 Subst="MSub1" W=w50 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL10  P2 N__23 Subst="MSub1" W=w50 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL9  N__26 0 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL8  N__24 N__25 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL7  N__18 N__17 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL6  N__16 N__24 Subst="MSub1" W=wpad_mil mil L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL5  N__6 0 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL4  N__2 N__5 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL3  N__28 N__4 Subst="MSub1" W=wdc mm L=19.8 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL1  N__22 N__21 Subst="MSub1" W=w50 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MSTEP:Step4  N__10 N__7 Subst="MSub1" W1=1.11 mm W2=wpad_mil mil 
MSTEP:Step3  N__9 N__14 Subst="MSub1" W1=wpad_mil mil W2=ws1 mm 
MSTEP:Step2  N__11 N__22 Subst="MSub1" W1=ws2 mm W2=1.11 mm 
MSTEP:Step1  N__4 N__2 Subst="MSub1" W1=wdc mm W2=wpad_mil mil 
MGAP:Gap4  N__15 N__8 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
MGAP:Gap3  N__25 N__26 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
MGAP:Gap2  N__17 N__16 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
MGAP:Gap1  N__5 N__6 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
C:C3  N__7 N__9 C=998.905 fF tune{ 299 fF to 897 fF by 59.783 fF } opt{ 100 fF to 1000 fF } 
C:C2  N__24 0 C=2.2 pF 
C:C1  N__2 0 C=470 pF 

w50=1.1
wdc=0.2
wpad_mil=45

ws1=1.21494 tune{ 0.1 to 0.301 by 0.0200925 } opt{ 0.01 to 10 }
ws2=2.46515 tune{ 0.969 to 2.91 by 0.19382 } opt{ 0.01 to 10 }
wsh1=9.33596 tune{ 0.161 to 0.484 by 0.0322829 } opt{ 0.01 to 10 }
wsh2=2.97713 tune{ 1.12 to 3.36 by 0.22384 } opt{ 0.01 to 10 }
V_Source:SRC1  N__2 0 Type="V_DC" Vdc=-0.4 V SaveCurrent=1 
end "input#20match"

; Library Name: lownoiseamp_lib
; Cell Name: output
; View Name: schematic
define output ( P1  P2 ) 
;parameters 
model MSub1 MSUB H=20 mil Er=3.66 Mur=1 Cond=5.8E7 Hu=1e+33 mm T=0.035 mm TanD=0.001 Rough=0 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MTEE_ADS:Tee1  N__18 N__28 N__15 Subst="MSub1" W1=w50 mm W2=w50 mm W3=wdc mm 
R:R4  N__29 N__32 R=15 Ohm Noise=yes 
MLIN2:TL1  P1 N__18 Subst="MSub1" W=w50 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL3  N__15 N__17 Subst="MSub1" W=wdc mm L=19.8 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL4  N__2 N__4 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL5  N__5 0 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLOC2:TL20  N__12 Subst="MSub1" W=wsh2 mm L=2.00035 mm tune{ 5.59 mm to 16.8 mm by 1.11747 mm } opt{ 2 mm to 30 mm } Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL11  N__29 N__28 Subst="MSub1" W=w50 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MTEE_ADS:Tee2  N__13 N__21 N__12 Subst="MSub1" W1=ws2 mm W2=wpad_mil mil W3=wsh2 mm 
C:C2  N__21 N__20 C=32.0434 pF tune{ 10 pF to 10.4 pF by 0.691971 pF } opt{ 1 pF to 50 pF } 
MGAP:Gap3  N__22 N__16 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
MLOC2:TL19  N__9 Subst="MSub1" W=wsh1 mm L=6.64706 mm tune{ 6.49 mm to 19.5 mm by 1.29745 mm } opt{ 2 mm to 50 mm } Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MTEE_ADS:Tee3  N__10 N__11 N__9 Subst="MSub1" W1=ws1 mm W2=ws2 mm W3=wsh1 mm 
MSTEP:Step1  N__17 N__2 Subst="MSub1" W1=wdc mm W2=wpad_mil mil 
MLIN2:TL17  N__22 N__21 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL16  P2 N__20 Subst="MSub1" W=1.11 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL18  N__20 N__16 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MGAP:Gap1  N__4 N__5 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
MLIN2:TL14  N__13 N__11 Subst="MSub1" W=ws2 mm L=22.6404 mm tune{ 6.36 mm to 19.1 mm by 1.27263 mm } opt{ 1 mm to 50 mm } Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL15  N__10 N__32 Subst="MSub1" W=ws1 mm L=3.42137 mm tune{ 2.62 mm to 7.86 mm by 0.524027 mm } opt{ 1 mm to 50 mm } Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MGAP:Gap2  N__31 N__1 Subst="MSub1" W=wpad_mil mil S=0.5 mm 
C:C1  N__2 0 C=470 pF 
MLIN2:TL13  N__32 N__1 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL12  N__31 N__29 Subst="MSub1" W=wpad_mil mil L=0.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 

ws1=0.0399589 tune{ 0.1004625 to 0.3013875 by 0.0200925 } opt{ 0.01 to 4 }
ws2=2.91763 tune{ 0.01 to 4 by 0.19382 } opt{ 0.01 to 4 }
wsh1=2.95062 tune{ 0.01 to 4 by 0.1585588 } opt{ 0.01 to 4 }
wsh2=2.4275 tune{ 0.01 to 4 by 0.0720782 } opt{ 0.01 to 4 }

w50=1.1
wdc=0.2
wpad_mil=45
V_Source:SRC1  N__2 0 Type="V_DC" Vdc=3 V SaveCurrent=1 
end output

output:X1  N__1 N__0 
"input#20match":X2  N__2 N__3 
#uselib "RfTransistorLibrary" , "pf_hp_ATF21170_19931015"
pf_hp_ATF21170_19931015:A1  N__1 N__3 0 0 
Port:TermG1  N__2 0 Num=1 Z=50 Ohm Noise=yes 
Port:TermG2  N__0 0 Num=2 Z=50 Ohm Noise=yes 
model MSub1 MSUB H=20 mil Er=3.66 Mur=1 Cond=5.8E7 Hu=1e+33 mm T=0.035 mm TanD=0.001 Rough=0 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
S_Param:SP2 CalcS=yes CalcY=no CalcZ=no GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=yes SortNoise=0 BandwidthForNoise=1.0 Hz DevOpPtLevel=0 \
SweepVar="freq" SweepPlan="SP2_stim" OutputPlan="SP2_Output" 

SweepPlan: SP2_stim Start=2.2 GHz Stop=2.6 GHz Step=0.01 GHz 

OutputPlan:SP2_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2

Options:Options1 Temp=16.85 Tnom=25 TopologyCheck=yes ForceS_Params=yes GiveAllWarnings=yes  \
MaxWarnings=10 ForceM_Params=yes InitialGuessAnnotation=0 TopologyCheckMessages=no doDeltaAC=no  \
ReduceSPortRatio=0.5 WarnSOA=yes MaxWarnSOA=5 Census=no MinNodalR=1e-2 Ohm  \
LargeCapThreshold=1e-3 F EnableAssertChecks=no EnableSpareRemoval=yes 

aele NoiseMatch=zopt(Sopt,PortZ1);
aele Mu1=mu(S);
aele MuPrime1=mu_prime(S);
aele MaxGain1=max_gain(S);
aele PwrGain2=pwr_gain(S,PortZ1,PortZ2);
aele NsCircle1=ns_circle({1.1,1.2,1.3},NFmin,Sopt,Rn/50,51);
aele Zin1=zin(S11,PortZ1);
aele GaCircle1=ga_circle(S,{14,15,16},51);

Optim:"Optim1" OptimType="hpVMO" ErrorForm="L2" MaxIters=5000 P=2 DesiredError=0.0 StatusLevel=4 FinalAnalysis="None" NormalizeGoals=yes SetBestValues=yes SaveSolns=yes SaveGoals=yes SaveOptimVars=no UpdateDataset=yes SaveNominal=no SaveAllIterations=no UseAllOptVars=yes UseAllGoals=yes SaveCurrentEF=no InitialTempControlMode=0 NumShootsPerIter=20 EnableCockpit=yes NormalizeError=yes SaveAllTrials=no UseAdvTermCriteria=no CostRelativeTol=1.0e-8 LimitOfContSmallImprovement=5 

OptimGoal:OptimGoal1 Expr="dB(S(1,1))" SimInstanceName="SP2" Weight=1 \
SpecLimitLine[1]="OptimGoal1_limit1" 
SpecLimitLine:"OptimGoal1_limit1" Type="LessThan" Max=-15 Weight=1 
OptimGoal:OptimGoal2 Expr="dB(S(2,2))" SimInstanceName="SP2" Weight=1 \
SpecLimitLine[1]="OptimGoal2_limit1" 
SpecLimitLine:"OptimGoal2_limit1" Type="LessThan" Max=-18 Weight=1 
OptimGoal:OptimGoal3 Expr="dB(S(2,1))" SimInstanceName="SP2" Weight=100 \
SpecLimitLine[1]="OptimGoal3_limit1" 
SpecLimitLine:"OptimGoal3_limit1" Type="Inside" Min=15.5 Max=16.5 Weight=1 
OptimGoal:OptimGoal4 Expr="nf(2)" SimInstanceName="SP2" Weight=1 \
SpecLimitLine[1]="OptimGoal4_limit1" 
SpecLimitLine:"OptimGoal4_limit1" Type="EqualTo" Min=1 Max=1 Weight=1 
